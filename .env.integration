# Integration Environment Variables
# This file is used by the docker-compose stack in the integration-ci.yml workflow.

# --- DATABASE ---
# These are used by the 'db' service in docker-compose.yaml
POSTGRES_USER=admin
POSTGRES_PASSWORD=testpassword
POSTGRES_DB=nightbff_integration_db
DB_HOST=db
DB_PORT=5432
DATABASE_URL=postgresql://admin:testpassword@db:5432/nightbff_integration_db?schema=public

# --- REDIS ---
REDIS_HOST=redis
REDIS_PORT=6379

# --- JWT ---
JWT_SECRET=a-super-secret-jwt-key-for-integration-testing

# --- SUPABASE (FIX) ---
# Provide valid-looking credentials to prevent the application from crashing.
SUPABASE_URL=https://dummy-url-for-ci.supabase.co
SUPABASE_KEY=dummy-key-for-ci-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --- OTHER ---
# Add other necessary env vars for your application below
# e.g., GOOGLE_MAPS_API_KEY, ONFIDO_API_KEY, etc.
NODE_ENV=integration
PORT=3000
CORS_ORIGIN=*

# --- App Configuration ---
AUTH_MODE=local

# --- App Specific Settings ---
# Values taken from the backend's .env.example
GEOHASH_PRECISION=7
VENUE_SCAN_RADIUS_METERS=5000
VENUE_SCAN_STALENESS_THRESHOLD_HOURS=720
VENUE_SCAN_WORKER_CONCURRENCY=3
VENUE_STALENESS_REFRESH_CRON='0 0 1 1 *'
MAX_UPLOAD_SIZE=10485760
IMAGE_PROCESSING_QUALITY=85
IMAGE_PROCESSING_ASYNC=true
STATIC_FILE_CACHE_TTL=86400
STATIC_FILE_ETAG_ENABLED=true
