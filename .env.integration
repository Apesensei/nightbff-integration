# NightBFF Integration Environment Configuration
# Single source of truth for the docker-compose stack.

# --- App Configuration ---
NODE_ENV=development
PORT=3000
AUTH_MODE=local

# --- Database Credentials & Connection ---
# These are read by both the 'db' and 'backend' services.
POSTGRES_USER=testuser
POSTGRES_PASSWORD=testpassword
POSTGRES_DB=nightbff_integration_db
DB_USERNAME=testuser
DB_PASSWORD=testpassword
DB_DATABASE=nightbff_integration_db
# This URL is used by the backend service to connect to the db service over the Docker network.
DATABASE_URL="postgresql://testuser:testpassword@db:5432/nightbff_integration_db?schema=public"

# --- Redis Connection ---
# The backend connects to the 'redis' service name.
REDIS_HOST=redis
REDIS_PORT=6379

# --- JWT Secret ---
# Use a static, non-production secret for testing.
JWT_SECRET=a-static-secret-for-integration-testing-only

# --- CORS ---
# Allow all origins for simplicity in the integration environment.
CORS_ORIGIN=*

# --- App Specific Settings ---
# Values taken from the backend's .env.example
GEOHASH_PRECISION=7
VENUE_SCAN_RADIUS_METERS=5000
VENUE_SCAN_STALENESS_THRESHOLD_HOURS=720
VENUE_SCAN_WORKER_CONCURRENCY=3
VENUE_STALENESS_REFRESH_CRON='0 0 1 1 *'
MAX_UPLOAD_SIZE=10485760
IMAGE_PROCESSING_QUALITY=85
IMAGE_PROCESSING_ASYNC=true
STATIC_FILE_CACHE_TTL=86400
STATIC_FILE_ETAG_ENABLED=true

# --- Supabase (if needed for any pass-through logic) ---
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
